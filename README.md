io
==
从cgroup分组中读取IOPS，并展示给用户。

本工具读取已经挂载好的Cgroup BLKIO模块作为数据读取源。

使用方法:

1、挂载cgroup blkio

	mkdir -p/cgroup/blkio
	mount -t cgroup -o blkio blkio /cgroup/blkio
	
2、建立Cgroup组

	cd /cgroup/blkio
	mkdir 3001 3002
	
3、将进程的ProcessID、ThreadID打印进tasks文件

    SHELL Scripts:
	PORTINFO=$(ps -ef | grep '关键字1' | grep '关键字2' | grep -v grep | awk '{print $2,$3}'| head -1)
	TMP_PID=$(echo ${PORTINFO}| awk '{print $1}')
	TMP_PPID=$(echo ${PORTINFO}| awk '{print $2}')
	echo $TMP_PID >> /cgroup/blkio/$group/tasks
	echo $TMP_PPID >> /cgroup/blkio/$group/tasks
	for THREADID in $(ps -eLf | grep -e ${TMP_PID} -e ${TMP_PPID} | grep -v grep | awk '{print $4}') ; do
		echo ${THREADID} >> /cgroup/blkio/$group/tasks
	done

4、具运行方法
	python io -i 1 -g 3001,3002

Read Cgroup Blkio Group as group['ins'] , ins as 3001,3002 on Every process

as

#python io -i 1 -g 3001,3002
        Program io
        read Cgroup Blkio Group as group['ins'] , ins as '3001','3002'
        display every instance read io , write io , r+w iops and all instance iops
    
输出效果
	SHELL Scripts:
	
	|--Instance----Read------|--Write-----|--rwio------|--Instance--|--Read------|--Write-----|--rwio------|--iops------|--------Time---------|
	|  3001        22173     |  8745      |  30918     |  3002      |  22770     |  9001      |  31771     |  62689     |  2014-01-15 10:41:08|
	|  3001        21828     |  9285      |  31113     |  3002      |  22460     |  9097      |  31557     |  62670     |  2014-01-15 10:41:09|
	|  3001        22384     |  9477      |  31861     |  3002      |  23247     |  8280      |  31527     |  63388     |  2014-01-15 10:41:10|
	|  3001        21464     |  9622      |  31086     |  3002      |  22773     |  8025      |  30798     |  61884     |  2014-01-15 10:41:11|
	|  3001        22196     |  9221      |  31417     |  3002      |  21665     |  8538      |  30203     |  61620     |  2014-01-15 10:41:12|
	|  3001        22377     |  8993      |  31370     |  3002      |  22883     |  8515      |  31398     |  62768     |  2014-01-15 10:41:13|
	|  3001        21787     |  9484      |  31271     |  3002      |  22587     |  8553      |  31140     |  62411     |  2014-01-15 10:41:14|
	|  3001        21630     |  9459      |  31089     |  3002      |  22841     |  8310      |  31151     |  62240     |  2014-01-15 10:41:15|
	|  3001        21299     |  9010      |  30309     |  3002      |  23296     |  9113      |  32409     |  62718     |  2014-01-15 10:41:16|
	|  3001        22259     |  8995      |  31254     |  3002      |  23184     |  8052      |  31236     |  62490     |  2014-01-15 10:41:17|
	|  3001        21957     |  9129      |  31086     |  3002      |  23048     |  8420      |  31468     |  62554     |  2014-01-15 10:41:18|
	|--Instance----Read------|--Write-----|--rwio------|--Instance--|--Read------|--Write-----|--rwio------|--iops------|--------Time---------|
	|  3001        15575     |  6156      |  21731     |  3002      |  14508     |  5424      |  19932     |  41663     |  2014-01-15 10:41:46|
	|  3001        20168     |  8540      |  28708     |  3002      |  21444     |  7563      |  29007     |  57715     |  2014-01-15 10:41:47|
	|  3001        22012     |  8978      |  30990     |  3002      |  22684     |  8540      |  31224     |  62214     |  2014-01-15 10:41:48|
	|  3001        22224     |  8995      |  31219     |  3002      |  22095     |  9622      |  31717     |  62936     |  2014-01-15 10:41:49|
	|  3001        21501     |  9021      |  30522     |  3002      |  22657     |  9227      |  31884     |  62406     |  2014-01-15 10:41:50|
	|  3001        21551     |  9010      |  30561     |  3002      |  21225     |  8611      |  29836     |  60397     |  2014-01-15 10:41:51|
	|  3001        22337     |  9010      |  31347     |  3002      |  22217     |  8538      |  30755     |  62102     |  2014-01-15 10:41:52|
	|  3001        15467     |  6677      |  22144     |  3002      |  15402     |  5678      |  21080     |  43224     |  2014-01-15 10:41:53|
	
	

